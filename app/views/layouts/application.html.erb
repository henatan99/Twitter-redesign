<!DOCTYPE html>
<html>
  <head>
    <title>TweeterRedesign</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>

    <script src="https://code.iconify.design/1/1.0.7/iconify.min.js"></script>
  </head>

  <body>
  
    <header>
      <nav class= "main-nav flex-row">       
        <div class="nav-left flex-row flex">
        <% if current_user %>
          
          <picture class="profile-img"> 
          <% if current_user.photo %>
          <%= image_tag current_user.photo_url.to_s %> 
          <% end %>
          </picture>
          <span class="username color-1 font-fam"> <%= link_to current_user.fullname, user_path(current_user) %> </span>
        <% else %>
          <span class="logo-text font-fam color-2 font-1p5">OPINION</span>
        <% end %>
        </div>
        <div class="nav-middle flex-row">
          <span class="logo font-1"> 
           <%= image_tag("flower-s.svg") %>
          </span>
          <% if current_user %>
          <span class="logout font-fam"> <%= link_to 'Log Out', session_path(session), method: :delete %> </span>
          <% end %>       
        </div>
        
        <div class="nav-right flex-row font-1p5">
        <% if current_user %>
          <span class="iconify" data-icon="fluent:edit-16-filled" data-inline="false"></span>
          <span class="iconify" data-icon="fluent:mail-24-filled" data-inline="false"></span>
          <span class="iconify" data-icon="fa-solid:search" data-inline="false"></span>
          <span class="iconify" data-icon="clarity:settings-solid" data-inline="false"></span>
        <% else %>
          <span class = "font-fam"> <%= link_to 'Sign In', new_session_path %> </span>
          <span class = "font-fam"> <%= link_to 'Sign Up', new_user_path %> </span>
        <% end %>
        </div>
        
      </nav>
    </header>
    

    <% if flash[:notice] %>
      <div class = "notification is-primary global-notification"> 
        <p class="alert"> <%= alert %> </p>
      </div> 
    <% end %> 

    <% if flash[:alert] %>
      <div class = "notification is-danger global-notification"> 
      </div> 
    <% end %>
    
    <%= yield %>

    <script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous">
    </script>

    <script>
    $(document).ready(function(){

      $('#view-followers').on('click', function() {
        $('#followers').show()
        $('#opinions-section').hide()        
        $('#followings').hide()
      });

      $('#view-opinions').on('click', function() {
        $('#opinions-section').show()
        $('#followers').hide()
        $('#followings').hide()
      });

     

      $('#view-followings').on('click', function() {
        $('#followings').show()
        $('#opinions-section').hide()
        $('#followers').hide()        
      });
        
    });  
      
      
    </script>
  
  </body>

</html>
